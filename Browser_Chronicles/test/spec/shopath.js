'use strict';

describe('Main test suite : ', function () {
    // Load your module.
    beforeEach(module('projetS6App'));

    var expectedResult;
    var givenResult;
    var jsonGraph;
    var story;

    it('testing classic story', inject(function (serviceGraph) {
        jsonGraph = {"nodes":[{"id":"1","label":"1","color":"#2196F3","shape":"circle","font":"20px arial white"},{"id":"3","label":"3","color":"#2196F3","shape":"circle","font":"20px arial white"},{"id":"2","label":"2","color":"#2196F3","shape":"circle","font":"20px arial white"},{"id":"4","label":"4","color":"#2196F3","shape":"circle","font":"20px arial white"},{"id":"5","label":"5","color":"#2196F3","shape":"circle","font":"20px arial white"},{"id":"6","label":"6","color":"#2196F3","shape":"circle","font":"20px arial white"},{"id":"7","label":"7","color":"#2196F3","shape":"circle","font":"20px arial white"},{"id":"8","label":"8","color":"#2196F3","shape":"circle","font":"20px arial white"},{"id":"9","label":"9","color":"#2196F3","shape":"circle","font":"20px arial white"},{"id":"10","label":"10","color":"green","shape":"circle","font":"20px arial white"},{"id":"11","label":"11","color":"red","shape":"circle","font":"20px arial white"}],"edges":[{"from":"1","to":"2","arrows":"to","id":"97294c62-b7a9-4d52-bdca-43b011115b9d"},{"from":"1","to":"3","arrows":"to","color":"green","width":4,"id":"ab9f4de1-7d29-4be5-aba2-14319784c7fa"},{"from":"3","to":"4","arrows":"to","color":"green","width":4,"id":"a3784bfb-0ffd-4914-b32a-bf88e7a978f6"},{"from":"2","to":"5","arrows":"to","id":"eb6f0831-b9f2-4d01-b335-cb602a3f586d"},{"from":"4","to":"1","arrows":"to","id":"9058313f-d243-4349-8d81-e905e914dd5b"},{"from":"4","to":"5","arrows":"to","id":"8a8609ca-424c-4f13-afa9-a583c86d0729"},{"from":"4","to":"6","arrows":"to","color":"green","width":4,"id":"e496533d-905c-4c3b-8d7f-13e3aa2c0f68"},{"from":"5","to":"9","arrows":"to","id":"efbc0e23-715b-43a8-8f17-01e36e7a6c1f"},{"from":"6","to":"7","arrows":"to","id":"13dd8c9f-fda2-4f8f-ad16-056a349b28be"},{"from":"6","to":"8","arrows":"to","color":"green","width":4,"id":"be4167fa-5407-4295-959f-82437568b81f"},{"from":"6","to":"9","arrows":"to","id":"fb59d8dc-09cb-45d2-aa89-039cf3afdf00"},{"from":"7","to":"8","arrows":"to","id":"0f9343d3-29be-4eb7-a388-04d5ec0c79bd"},{"from":"8","to":"5","arrows":"to","id":"b488e47c-b4c3-4afa-ade0-c246c44d4da5"},{"from":"8","to":"10","arrows":"to","color":"green","width":4,"id":"3ff11d21-6fef-4d76-819f-dc60ee327f2c"},{"from":"8","to":"9","arrows":"to","id":"7b193eb1-c5b1-46a8-8d7c-cf79bbc77e81"},{"from":"9","to":"11","arrows":"to","id":"ba9b9384-2c91-4d55-bad5-b8c989c82cd1"}]}

        story = [{"title":"1 - 1er décembre1949 : Naissance à Medellin","description":"Pablo Escobar naît dans une famille pauvre de la ville de Rionegro, dans le département d'Antioquia, dans une Colombie marquée par la crise des années 1950. Troisième d'une famille de sept enfants, il grandit dans une hutte sans électricité ni eau courante. Son père, Abel de Jésus Escobar, était un paysan, sa mère institutrice qui lui donne le prénom de Pablo en référence à Saint Vincent de Paul.","image":{"_url":"http://t3.gstatic.com/images?q=tbn:ANd9GcSkquZBd4XzgB1JiAgQV95hOaxW7EFFGd-oWFVxSz7Sxzgk9bXgmuk_PaI"},"availablenextsteps":{"nextstep":["2","3"]},"_id":"1","_type":"multiplechoice"},{"title":"3 - 1975 : début du trafic de cocaïne","description":"En 1975, il s’engage à vendre 14kg de cocaïne au baron de la drogue de Medellin, Fabio Restrepo. Ce dernier ne voit en Escobar qu’un vulgaire dealer. Il le sous-estime. 3 semaines plus tard, Restrepo est retrouvé mort. Escobar devient alors le patron de la drogue à Medellin","image":{"_url":"https://images.rapgenius.com/51594b7755dd2d607803138084498de9.640x425x1.jpg"},"deck":{"card":["MAT","SOF"]},"availablenextsteps":{"nextstep":"4"},"_id":"3","_type":"memory"},{"title":"2 - 1982 : élu au parlement colombien","image":{"_url":"http://static2.7sur7.be/static/photo/2015/3/8/7/20150909162607/media_xll_7988002.jpg"},"description":"Pablo Escobar est élu en 1982 comme député adjoint/alternatif à la Chambre des Représentants au Congrès Colombien dans les rangs d'une dissidence du Parti libéral Colombien mais son élection est finalement invalidée pour financement illégal de sa campagne.","riddle":{"question":"ça marche ?","answer":"oui ça marche mec"},"availablenextsteps":{"nextstep":"5"},"_id":"2","_type":"riddle"},{"title":"4 -1980 : Ascension du cartel","image":{"_url":"http://static.blastingnews.com/media/photogallery/2015/10/23/main/cartel-de-medellin-veja-o-que-aconteceu-com-eles_470409.jpg"},"description":"Durant les années 1980, Escobar et le cartel de Medellín deviennent célèbres. Le cartel de Medellín contrôle la plupart des entrées de cocaïne aux États-Unis, au Mexique, à Puerto Rico et en République dominicaine. La cocaïne provient essentiellement du Pérou et de Bolivie. La cocaïne de Colombie est alors considérée de qualité inférieure. Son réseau de distribution s’étendra jusqu'en Asie.","availablenextsteps":{"nextstep":["1","5","6"]},"_id":"4","_type":"multiplechoice"},{"title":"5 - 1984 : Plata o Plomo","description":"La corruption et l'intimidation caractérisent la relation entre le système Escobar et les autorités colombiennes. Son système implacable vis-à-vis des autorités se résume à l'expression Plata o Plomo (littéralement, « l'argent ou le plomb »), ce qui signifie : soit tu acceptes l'argent soit tu prends une balle. Escobar terrorise le pays à partir de 1984, ce système entraînant la mort de milliers de personnes, dont des civils, des policiers, des journalistes et des représentants de l’État. Le bras droit d'Escobar, Jhon Jairo Velásquez, a lui-même reconnu avoir organisé les meurtres de 3 000 Colombiens. En même temps, Escobar soudoie de nombreux fonctionnaires, juges et autres politiciens.","image":{"_url":"https://s-media-cache-ak0.pinimg.com/236x/ec/ca/57/ecca579a142e4cde0641d9dceebedf6e.jpg"},"deck":{"card":["MAT","SOF","PAB","HAM","TIM"]},"availablenextsteps":{"nextstep":"9"},"_id":"5","_type":"memory"},{"title":"6 - 1989 :Arrivée au sommet","image":{"_url":"http://2.bp.blogspot.com/-lOmLs7cwBcI/VoVFmawjGiI/AAAAAAAArzE/GQ9FuUWNrr4/s1600/Screen%2BShot%2B2015-12-31%2Bat%2B09.10.29.png"},"description":"En 1989, parmi les 227 milliardaires, il fut classé septième homme le plus riche du monde d'après le magazine Forbes, avec une fortune estimée à 3 milliards de dollars14. À cette époque, le Cartel de Medellín contrôlait 80 % du trafic mondial de cocaïne. Dans la plupart des entreprises, un retour sur investissement de 100 % est largement profitable pour la pérennité de leur activité. Pablo Escobar s'amusait à expliquer que son retour sur investissement était à peu près de 20 000 % : en d'autres termes, pour 1 dollar investi dans son business, il recevait approximativement 200 dollars en retour.","availablenextsteps":{"nextstep":["7","8","9"]},"_id":"6","_type":"multiplechoice"},{"title":"7 - 1990 : Chasse à l'homme et bain de sang","image":{"_url":"http://reseauinternational.net/wp-content/uploads/2013/08/egypt-5-si-1728x800_c.jpg"},"description":"Le 15 février 1990, un sommet anti-drogue réunit à Carthagène les présidents Bush père (États-Unis), Barco (Colombie), Paz Zamora (Bolivie) et García (Pérou). En avril, l'armée colombienne cerne le siège de Pablo Escobar. Il y aura 510 morts mais ce dernier réussira à s'échapper.Pablo Escobar avait créé un véritable groupe armé autour de lui, environ 3 000 tueurs, les sicarios, qui pouvaient être de tout âge. En 1992, à Medellín 6 662 personnes ont été tuées dans des affrontements armés, auxquelles il faut ajouter 1 292 cadavres non identifiés et 967 habitants portés disparus, soit un total de 8 921 morts.","riddle":{"question":"Avez-vous bien suivis? en quelle année est né Pablo Escobar?","answer":"1949"},"availablenextsteps":{"nextstep":"8"},"_id":"7","_type":"riddle"},{"title":"8 - 1991 : Mise à prix","image":{"_url":"https://s-media-cache-ak0.pinimg.com/736x/f2/34/23/f234237fb7c7fcbd639b4cc5686dd68e.jpg"},"description":"Malgré l'enfermement, l'activité criminelle d'Escobar continua à faire la une des journaux. Escobar fit venir La Moncada et les frères Galeano à La Cathédrale pour les faire assassiner car ils étaient suspectés d'avoir volé le Cartel. Sa prison devient rapidement le nouveau QG du clan de Medellín. Quand les autorités se rendirent compte qu'Escobar continuait ses activités criminelles, il fut décidé de le transférer dans une autre prison le 22 juillet 1992. Mais il fut averti en avance et il s'évada peu de temps avant car il craignait de se faire extrader vers les États-Unis. Sa tête est alors mise à prix pour 6 millions de dollars.","availablenextsteps":{"nextstep":["5","10","9"]},"_id":"8","_type":"multiplechoice"},{"title":"9 -  1993 : Los Pepes","image":{"_url":"http://xpatnation.com/wp-content/uploads/2015/06/65jpg.jpeg"},"description":"Début 1993, un nouveau groupe paramilitaire terroriste « Los Pepes » apparaît, décidé à éliminer Pablo Escobar et le cartel de Medellín, et fait régner la terreur sur la ville. Los Pepes est l'acronyme pour « PErseguidos por Pablo EScobar ». C'est une milice privée qui va lutter contre Escobar avec les mêmes armes qu'il utilise, c'est-à-dire le crime et les attentats. Et qui va grandement aider le gouvernement américain.\n        Après des mois de travail, l'équipe de surveillance du bloc de recherche, réussit un jour à repérer Pablo Escobar dans le quartier de Los Olivos. Contrairement à son habitude, il avait longuement et imprudemment téléphoné à sa femme et à son fils Juan Pablo, dans un hôtel de Bogota.\n        Le commandant Hugo Martínez, à l'aide d'un écran de visualisation de signal de communication, était parvenu devant un pâté de maisons. Mais, plutôt que de faire encercler le quartier, il préféra l'attente, l'infiltration et la surveillance.","riddle":{"question":"En quelle année se sont constitués les Los Pepes ?","answer":"1993"},"availablenextsteps":{"nextstep":"11"},"_id":"9","_type":"riddle"},{"title":"10 - Pablo n'est pas tombé","image":{"_url":"http://static6.businessinsider.com/image/55f2f25cbd86ef0f008b9abb-840-673/pablo%20family.jpg"},"description":"Malgrés la mise à prix de sa tete, Pablo, sa femme et son fils, s'échappent et se volatilisent dans la nature","_id":"10","_type":"end","_win":"true"},{"title":"11 - 2 Decembre 1993 : La Chute d'Escobar","image":{"_url":"http://toxicomanie-dz.com/news/upload/images/news_photos/pablo-escobar-mort.jpg"},"description":"Scrutant les fenêtres des maisons, une à une, le commandant Hugo Martínez aperçut à l'une d'elles, un homme corpulent qu'il identifia comme étant Pablo Escobar. Ayant alerté le quartier général local de la PNC (Police Nationale Colombienne), il fut rejoint par un commando. Le plan d'alerte se termina par l'assaut et la mort du parrain alors qu'il tentait de fuir par le toit. Le seul homme de confiance qui ne l'avait jamais trahi et qui le suivit jusqu'à la mort fut son bras droit, un nommé Limon qui était dans la maison lorsque Pablo Escobar fut tué.\n        Limon a été le premier à se faire tuer. Tirant sur les policiers qui avaient encerclé la maison où se trouvait Pablo Escobar, Limon a été atteint de plusieurs projectiles, alors qu'il courait d'un toit pour se réfugier sur un autre toit. Pablo Escobar savait qu'il y avait plusieurs membres de l'autorité qui l'attendaient dehors sur le toit et il entendait les policiers monter les escaliers pour atteindre l'étage où il se trouvait dans la maison. Il n'a pas eu d'autre choix que de sortir en courant et tirer sur tout ce qu'il voyait. Il fut atteint exactement de 12 projectiles dans le corps. Une fois mort étendu sur le toit, les militaires de l'armée colombienne prirent une photo de lui pour montrer leur fierté comme si le corps de Pablo Escobar était un trophée. Deux policiers colombiens qui ont participé à l'opération, ont coupé les deux pointes de la moustache de Pablo Escobar en signe de souvenir et ont laissé son visage avec une moustache du style de celle d'Hitler.\n        Plus tard, le coroner écrivit que Pablo Escobar était décédé d'un projectile qui l'avait atteint à la tête. Mais la confusion vint quand le coroner annonça que ce même projectile qui l'avait atteint derrière l'oreille était le même que ceux du fusil qu'il tenait dans la main. La conclusion pourrait être ce que Pablo Escobar disait souvent : « Je préfère une tombe en Colombie qu'une cellule de prison aux États-Unis et que jamais l'autorité ne mettra fin à ma vie »… Un suicide serait donc à l'origine de son décès. Il se serait tiré lui-même une balle derrière l'oreille droite alors qu'il courait en traversant le toit pour passer du toit de la maison à un toit d'une maison voisine.\n        Quelques minutes plus tard, sa mère se rendit sur les lieux pour voir d'elle-même si c'était vraiment son fils qui venait d'être tué. À première vue, elle remarqua le corps ensanglanté de Limon par terre devant la maison et cria : « Imbéciles, vous n'avez pas tué mon fils, ce n'est pas lui ! », mais lorsqu'elle monta sur le toit, elle tomba en larmes à la vue du corps de celui qui fut le plus grand baron de la drogue. »","_id":"11","_type":"end","_win":"false"}]

        expectedResult = ["1", "3", "4", "6", "8", "10"] // The expected output of the service
        givenResult = serviceGraph.getShortestPaths(jsonGraph, story);

        expect(givenResult).toEqual(expectedResult);

    }));

    it('testing a story without winning step', inject(function (serviceGraph) {
        jsonGraph = {"nodes":[{"id":"1","label":"1","color":"#2196F3","shape":"circle","font":"20px arial white"},{"id":"3","label":"3","color":"#2196F3","shape":"circle","font":"20px arial white"},{"id":"2","label":"2","color":"#2196F3","shape":"circle","font":"20px arial white"},{"id":"4","label":"4","color":"#2196F3","shape":"circle","font":"20px arial white"},{"id":"5","label":"5","color":"#2196F3","shape":"circle","font":"20px arial white"},{"id":"6","label":"6","color":"#2196F3","shape":"circle","font":"20px arial white"},{"id":"7","label":"7","color":"#2196F3","shape":"circle","font":"20px arial white"},{"id":"8","label":"8","color":"#2196F3","shape":"circle","font":"20px arial white"},{"id":"9","label":"9","color":"#2196F3","shape":"circle","font":"20px arial white"},{"id":"10","label":"10","color":"green","shape":"circle","font":"20px arial white"},{"id":"11","label":"11","color":"red","shape":"circle","font":"20px arial white"}],"edges":[{"from":"1","to":"2","arrows":"to","id":"97294c62-b7a9-4d52-bdca-43b011115b9d"},{"from":"1","to":"3","arrows":"to","color":"green","width":4,"id":"ab9f4de1-7d29-4be5-aba2-14319784c7fa"},{"from":"3","to":"4","arrows":"to","color":"green","width":4,"id":"a3784bfb-0ffd-4914-b32a-bf88e7a978f6"},{"from":"2","to":"5","arrows":"to","id":"eb6f0831-b9f2-4d01-b335-cb602a3f586d"},{"from":"4","to":"1","arrows":"to","id":"9058313f-d243-4349-8d81-e905e914dd5b"},{"from":"4","to":"5","arrows":"to","id":"8a8609ca-424c-4f13-afa9-a583c86d0729"},{"from":"4","to":"6","arrows":"to","color":"green","width":4,"id":"e496533d-905c-4c3b-8d7f-13e3aa2c0f68"},{"from":"5","to":"9","arrows":"to","id":"efbc0e23-715b-43a8-8f17-01e36e7a6c1f"},{"from":"6","to":"7","arrows":"to","id":"13dd8c9f-fda2-4f8f-ad16-056a349b28be"},{"from":"6","to":"8","arrows":"to","color":"green","width":4,"id":"be4167fa-5407-4295-959f-82437568b81f"},{"from":"6","to":"9","arrows":"to","id":"fb59d8dc-09cb-45d2-aa89-039cf3afdf00"},{"from":"7","to":"8","arrows":"to","id":"0f9343d3-29be-4eb7-a388-04d5ec0c79bd"},{"from":"8","to":"5","arrows":"to","id":"b488e47c-b4c3-4afa-ade0-c246c44d4da5"},{"from":"8","to":"10","arrows":"to","color":"green","width":4,"id":"3ff11d21-6fef-4d76-819f-dc60ee327f2c"},{"from":"8","to":"9","arrows":"to","id":"7b193eb1-c5b1-46a8-8d7c-cf79bbc77e81"},{"from":"9","to":"11","arrows":"to","id":"ba9b9384-2c91-4d55-bad5-b8c989c82cd1"}]}

        story = [{"title":"1 - 1er décembre1949 : Naissance à Medellin","description":"Pablo Escobar naît dans une famille pauvre de la ville de Rionegro, dans le département d'Antioquia, dans une Colombie marquée par la crise des années 1950. Troisième d'une famille de sept enfants, il grandit dans une hutte sans électricité ni eau courante. Son père, Abel de Jésus Escobar, était un paysan, sa mère institutrice qui lui donne le prénom de Pablo en référence à Saint Vincent de Paul.","image":{"_url":"http://t3.gstatic.com/images?q=tbn:ANd9GcSkquZBd4XzgB1JiAgQV95hOaxW7EFFGd-oWFVxSz7Sxzgk9bXgmuk_PaI"},"availablenextsteps":{"nextstep":["2","3"]},"_id":"1","_type":"multiplechoice"},{"title":"3 - 1975 : début du trafic de cocaïne","description":"En 1975, il s’engage à vendre 14kg de cocaïne au baron de la drogue de Medellin, Fabio Restrepo. Ce dernier ne voit en Escobar qu’un vulgaire dealer. Il le sous-estime. 3 semaines plus tard, Restrepo est retrouvé mort. Escobar devient alors le patron de la drogue à Medellin","image":{"_url":"https://images.rapgenius.com/51594b7755dd2d607803138084498de9.640x425x1.jpg"},"deck":{"card":["MAT","SOF"]},"availablenextsteps":{"nextstep":"4"},"_id":"3","_type":"memory"},{"title":"2 - 1982 : élu au parlement colombien","image":{"_url":"http://static2.7sur7.be/static/photo/2015/3/8/7/20150909162607/media_xll_7988002.jpg"},"description":"Pablo Escobar est élu en 1982 comme député adjoint/alternatif à la Chambre des Représentants au Congrès Colombien dans les rangs d'une dissidence du Parti libéral Colombien mais son élection est finalement invalidée pour financement illégal de sa campagne.","riddle":{"question":"ça marche ?","answer":"oui ça marche mec"},"availablenextsteps":{"nextstep":"5"},"_id":"2","_type":"riddle"},{"title":"4 -1980 : Ascension du cartel","image":{"_url":"http://static.blastingnews.com/media/photogallery/2015/10/23/main/cartel-de-medellin-veja-o-que-aconteceu-com-eles_470409.jpg"},"description":"Durant les années 1980, Escobar et le cartel de Medellín deviennent célèbres. Le cartel de Medellín contrôle la plupart des entrées de cocaïne aux États-Unis, au Mexique, à Puerto Rico et en République dominicaine. La cocaïne provient essentiellement du Pérou et de Bolivie. La cocaïne de Colombie est alors considérée de qualité inférieure. Son réseau de distribution s’étendra jusqu'en Asie.","availablenextsteps":{"nextstep":["1","5","6"]},"_id":"4","_type":"multiplechoice"},{"title":"5 - 1984 : Plata o Plomo","description":"La corruption et l'intimidation caractérisent la relation entre le système Escobar et les autorités colombiennes. Son système implacable vis-à-vis des autorités se résume à l'expression Plata o Plomo (littéralement, « l'argent ou le plomb »), ce qui signifie : soit tu acceptes l'argent soit tu prends une balle. Escobar terrorise le pays à partir de 1984, ce système entraînant la mort de milliers de personnes, dont des civils, des policiers, des journalistes et des représentants de l’État. Le bras droit d'Escobar, Jhon Jairo Velásquez, a lui-même reconnu avoir organisé les meurtres de 3 000 Colombiens. En même temps, Escobar soudoie de nombreux fonctionnaires, juges et autres politiciens.","image":{"_url":"https://s-media-cache-ak0.pinimg.com/236x/ec/ca/57/ecca579a142e4cde0641d9dceebedf6e.jpg"},"deck":{"card":["MAT","SOF","PAB","HAM","TIM"]},"availablenextsteps":{"nextstep":"9"},"_id":"5","_type":"memory"},{"title":"6 - 1989 :Arrivée au sommet","image":{"_url":"http://2.bp.blogspot.com/-lOmLs7cwBcI/VoVFmawjGiI/AAAAAAAArzE/GQ9FuUWNrr4/s1600/Screen%2BShot%2B2015-12-31%2Bat%2B09.10.29.png"},"description":"En 1989, parmi les 227 milliardaires, il fut classé septième homme le plus riche du monde d'après le magazine Forbes, avec une fortune estimée à 3 milliards de dollars14. À cette époque, le Cartel de Medellín contrôlait 80 % du trafic mondial de cocaïne. Dans la plupart des entreprises, un retour sur investissement de 100 % est largement profitable pour la pérennité de leur activité. Pablo Escobar s'amusait à expliquer que son retour sur investissement était à peu près de 20 000 % : en d'autres termes, pour 1 dollar investi dans son business, il recevait approximativement 200 dollars en retour.","availablenextsteps":{"nextstep":["7","8","9"]},"_id":"6","_type":"multiplechoice"},{"title":"7 - 1990 : Chasse à l'homme et bain de sang","image":{"_url":"http://reseauinternational.net/wp-content/uploads/2013/08/egypt-5-si-1728x800_c.jpg"},"description":"Le 15 février 1990, un sommet anti-drogue réunit à Carthagène les présidents Bush père (États-Unis), Barco (Colombie), Paz Zamora (Bolivie) et García (Pérou). En avril, l'armée colombienne cerne le siège de Pablo Escobar. Il y aura 510 morts mais ce dernier réussira à s'échapper.Pablo Escobar avait créé un véritable groupe armé autour de lui, environ 3 000 tueurs, les sicarios, qui pouvaient être de tout âge. En 1992, à Medellín 6 662 personnes ont été tuées dans des affrontements armés, auxquelles il faut ajouter 1 292 cadavres non identifiés et 967 habitants portés disparus, soit un total de 8 921 morts.","riddle":{"question":"Avez-vous bien suivis? en quelle année est né Pablo Escobar?","answer":"1949"},"availablenextsteps":{"nextstep":"8"},"_id":"7","_type":"riddle"},{"title":"8 - 1991 : Mise à prix","image":{"_url":"https://s-media-cache-ak0.pinimg.com/736x/f2/34/23/f234237fb7c7fcbd639b4cc5686dd68e.jpg"},"description":"Malgré l'enfermement, l'activité criminelle d'Escobar continua à faire la une des journaux. Escobar fit venir La Moncada et les frères Galeano à La Cathédrale pour les faire assassiner car ils étaient suspectés d'avoir volé le Cartel. Sa prison devient rapidement le nouveau QG du clan de Medellín. Quand les autorités se rendirent compte qu'Escobar continuait ses activités criminelles, il fut décidé de le transférer dans une autre prison le 22 juillet 1992. Mais il fut averti en avance et il s'évada peu de temps avant car il craignait de se faire extrader vers les États-Unis. Sa tête est alors mise à prix pour 6 millions de dollars.","availablenextsteps":{"nextstep":["5","10","9"]},"_id":"8","_type":"multiplechoice"},{"title":"9 -  1993 : Los Pepes","image":{"_url":"http://xpatnation.com/wp-content/uploads/2015/06/65jpg.jpeg"},"description":"Début 1993, un nouveau groupe paramilitaire terroriste « Los Pepes » apparaît, décidé à éliminer Pablo Escobar et le cartel de Medellín, et fait régner la terreur sur la ville. Los Pepes est l'acronyme pour « PErseguidos por Pablo EScobar ». C'est une milice privée qui va lutter contre Escobar avec les mêmes armes qu'il utilise, c'est-à-dire le crime et les attentats. Et qui va grandement aider le gouvernement américain.\n        Après des mois de travail, l'équipe de surveillance du bloc de recherche, réussit un jour à repérer Pablo Escobar dans le quartier de Los Olivos. Contrairement à son habitude, il avait longuement et imprudemment téléphoné à sa femme et à son fils Juan Pablo, dans un hôtel de Bogota.\n        Le commandant Hugo Martínez, à l'aide d'un écran de visualisation de signal de communication, était parvenu devant un pâté de maisons. Mais, plutôt que de faire encercler le quartier, il préféra l'attente, l'infiltration et la surveillance.","riddle":{"question":"En quelle année se sont constitués les Los Pepes ?","answer":"1993"},"availablenextsteps":{"nextstep":"11"},"_id":"9","_type":"riddle"},{"title":"10 - Pablo n'est pas tombé","image":{"_url":"http://static6.businessinsider.com/image/55f2f25cbd86ef0f008b9abb-840-673/pablo%20family.jpg"},"description":"Malgrés la mise à prix de sa tete, Pablo, sa femme et son fils, s'échappent et se volatilisent dans la nature","_id":"10","_type":"end","_win":"false"},{"title":"11 - 2 Decembre 1993 : La Chute d'Escobar","image":{"_url":"http://toxicomanie-dz.com/news/upload/images/news_photos/pablo-escobar-mort.jpg"},"description":"Scrutant les fenêtres des maisons, une à une, le commandant Hugo Martínez aperçut à l'une d'elles, un homme corpulent qu'il identifia comme étant Pablo Escobar. Ayant alerté le quartier général local de la PNC (Police Nationale Colombienne), il fut rejoint par un commando. Le plan d'alerte se termina par l'assaut et la mort du parrain alors qu'il tentait de fuir par le toit. Le seul homme de confiance qui ne l'avait jamais trahi et qui le suivit jusqu'à la mort fut son bras droit, un nommé Limon qui était dans la maison lorsque Pablo Escobar fut tué.\n        Limon a été le premier à se faire tuer. Tirant sur les policiers qui avaient encerclé la maison où se trouvait Pablo Escobar, Limon a été atteint de plusieurs projectiles, alors qu'il courait d'un toit pour se réfugier sur un autre toit. Pablo Escobar savait qu'il y avait plusieurs membres de l'autorité qui l'attendaient dehors sur le toit et il entendait les policiers monter les escaliers pour atteindre l'étage où il se trouvait dans la maison. Il n'a pas eu d'autre choix que de sortir en courant et tirer sur tout ce qu'il voyait. Il fut atteint exactement de 12 projectiles dans le corps. Une fois mort étendu sur le toit, les militaires de l'armée colombienne prirent une photo de lui pour montrer leur fierté comme si le corps de Pablo Escobar était un trophée. Deux policiers colombiens qui ont participé à l'opération, ont coupé les deux pointes de la moustache de Pablo Escobar en signe de souvenir et ont laissé son visage avec une moustache du style de celle d'Hitler.\n        Plus tard, le coroner écrivit que Pablo Escobar était décédé d'un projectile qui l'avait atteint à la tête. Mais la confusion vint quand le coroner annonça que ce même projectile qui l'avait atteint derrière l'oreille était le même que ceux du fusil qu'il tenait dans la main. La conclusion pourrait être ce que Pablo Escobar disait souvent : « Je préfère une tombe en Colombie qu'une cellule de prison aux États-Unis et que jamais l'autorité ne mettra fin à ma vie »… Un suicide serait donc à l'origine de son décès. Il se serait tiré lui-même une balle derrière l'oreille droite alors qu'il courait en traversant le toit pour passer du toit de la maison à un toit d'une maison voisine.\n        Quelques minutes plus tard, sa mère se rendit sur les lieux pour voir d'elle-même si c'était vraiment son fils qui venait d'être tué. À première vue, elle remarqua le corps ensanglanté de Limon par terre devant la maison et cria : « Imbéciles, vous n'avez pas tué mon fils, ce n'est pas lui ! », mais lorsqu'elle monta sur le toit, elle tomba en larmes à la vue du corps de celui qui fut le plus grand baron de la drogue. »","_id":"11","_type":"end","_win":"false"}]

        expectedResult = [] // The expected output of the service
        givenResult = serviceGraph.getShortestPaths(jsonGraph, story);

        expect(givenResult).toEqual(expectedResult);

    }));
});